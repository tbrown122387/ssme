\hypertarget{classada__pmmh}{}\section{ada\+\_\+pmmh$<$ numparams, dimobs, numparts, float\+\_\+t $>$ Class Template Reference}
\label{classada__pmmh}\index{ada\+\_\+pmmh$<$ numparams, dimobs, numparts, float\+\_\+t $>$@{ada\+\_\+pmmh$<$ numparams, dimobs, numparts, float\+\_\+t $>$}}


{\ttfamily \#include $<$ada\+\_\+pmmh.\+h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classada__pmmh_a1ebb1b6caf7763fbb6e1be295e598655}\label{classada__pmmh_a1ebb1b6caf7763fbb6e1be295e598655}} 
using {\bfseries osv} = Eigen\+::\+Matrix$<$ float\+\_\+t, dimobs, 1 $>$
\item 
\mbox{\Hypertarget{classada__pmmh_a2922fc665daa094385db972d71c491f8}\label{classada__pmmh_a2922fc665daa094385db972d71c491f8}} 
using {\bfseries psv} = Eigen\+::\+Matrix$<$ float\+\_\+t, numparams, 1 $>$
\item 
\mbox{\Hypertarget{classada__pmmh_a3de83c1cf02771d59c838c1072f78420}\label{classada__pmmh_a3de83c1cf02771d59c838c1072f78420}} 
using {\bfseries psm} = Eigen\+::\+Matrix$<$ float\+\_\+t, numparams, numparams $>$
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classada__pmmh_a5ada0a36d005ab71ef337a8819268d31}{ada\+\_\+pmmh} (const psv \&start\+\_\+theta, const unsigned int \&num\+\_\+mcmc\+\_\+iters, const std\+::string \&data\+\_\+file, const std\+::string \&samples\+\_\+file, const std\+::string \&messages\+\_\+file, const bool \&mc, const unsigned int \&t0, const unsigned int \&t1, const psm \&C0)
\begin{DoxyCompactList}\small\item\em The constructor. \end{DoxyCompactList}\item 
psm \hyperlink{classada__pmmh_a1d496162b69f71e22a02ce7781a34228}{get\+\_\+ct} () const
\begin{DoxyCompactList}\small\item\em Get the current proposal distribution\textquotesingle{}s covariance matrix. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classada__pmmh_a5f64ee5a581aaf8b967a181aa011cc2a}\label{classada__pmmh_a5f64ee5a581aaf8b967a181aa011cc2a}} 
void \hyperlink{classada__pmmh_a5f64ee5a581aaf8b967a181aa011cc2a}{commence\+Sampling} ()
\begin{DoxyCompactList}\small\item\em starts the sampling \end{DoxyCompactList}\item 
virtual float\+\_\+t \hyperlink{classada__pmmh_ae01d406468838916eb10956a26d346fb}{log\+Prior\+Evaluate} (const psv \&theta)=0
\begin{DoxyCompactList}\small\item\em Evaluates the log of the model\textquotesingle{}s prior distribution, using the parameterization chosen by the user. \end{DoxyCompactList}\item 
virtual float\+\_\+t \hyperlink{classada__pmmh_a5f0a24162f212e7f63a3d900f5d48a87}{log\+Q\+Evaluate} (const psv \&old\+\_\+params, const psv \&new\+\_\+params)=0
\begin{DoxyCompactList}\small\item\em Evaluates the logarithm of the proposal density, using the parameterization chosen by the user. \end{DoxyCompactList}\item 
virtual float\+\_\+t \hyperlink{classada__pmmh_ac6b216e8b940b9da7c835c91746cfc21}{log\+Like\+Evaluate} (const psv \&theta, const std\+::vector$<$ osv $>$ \&data, std\+::atomic\+\_\+bool \&cancelled)=0
\begin{DoxyCompactList}\small\item\em Approximates the log likelihood with a particle filter, using the parameterization chosen by the user. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classada__pmmh_a5b3a686b52091b340f9a720b4a51a32d}\label{classada__pmmh_a5b3a686b52091b340f9a720b4a51a32d}} 
void {\bfseries update\+\_\+moments\+\_\+and\+\_\+\+Ct} (const psv \&new\+Trans\+Theta)
\item 
\mbox{\Hypertarget{classada__pmmh_ad48139f3c5cd80d36135a42b4c09aec3}\label{classada__pmmh_ad48139f3c5cd80d36135a42b4c09aec3}} 
psv {\bfseries q\+Sample} (const psv \&old\+\_\+theta)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classada__pmmh_a223edc72cf3bd29a5af875868b8c3aa4}\label{classada__pmmh_a223edc72cf3bd29a5af875868b8c3aa4}} 
std\+::vector$<$ osv $>$ {\bfseries m\+\_\+data}
\item 
\mbox{\Hypertarget{classada__pmmh_af15cd995ee4fe6899a0d7620da9e85ac}\label{classada__pmmh_af15cd995ee4fe6899a0d7620da9e85ac}} 
psv {\bfseries m\+\_\+current\+\_\+theta}
\item 
\mbox{\Hypertarget{classada__pmmh_a7bbb6e557f17463c4c737b8ed05640d1}\label{classada__pmmh_a7bbb6e557f17463c4c737b8ed05640d1}} 
psm {\bfseries m\+\_\+sigma\+\_\+hat}
\item 
\mbox{\Hypertarget{classada__pmmh_a43e025b59c1815b229bdb4af5fd57563}\label{classada__pmmh_a43e025b59c1815b229bdb4af5fd57563}} 
psv {\bfseries m\+\_\+mean\+\_\+trans\+\_\+theta}
\item 
\mbox{\Hypertarget{classada__pmmh_aad3f20d6927cffc2463f1fd5f0d64564}\label{classada__pmmh_aad3f20d6927cffc2463f1fd5f0d64564}} 
float\+\_\+t {\bfseries m\+\_\+ma\+\_\+accept\+\_\+rate}
\item 
\mbox{\Hypertarget{classada__pmmh_a17cfbfac90567dac196d1dc67a4c2fb6}\label{classada__pmmh_a17cfbfac90567dac196d1dc67a4c2fb6}} 
unsigned int {\bfseries m\+\_\+t0}
\item 
\mbox{\Hypertarget{classada__pmmh_a0e652a72e2053f8ff614532561b44e4d}\label{classada__pmmh_a0e652a72e2053f8ff614532561b44e4d}} 
unsigned int {\bfseries m\+\_\+t1}
\item 
\mbox{\Hypertarget{classada__pmmh_a1dfe91b3461db5babeb4e907d13e285a}\label{classada__pmmh_a1dfe91b3461db5babeb4e907d13e285a}} 
psm {\bfseries m\+\_\+\+Ct}
\item 
\mbox{\Hypertarget{classada__pmmh_aac16c9d672a2fc042e16ff1902e7bcba}\label{classada__pmmh_aac16c9d672a2fc042e16ff1902e7bcba}} 
rvsamp\+::\+M\+V\+N\+Sampler$<$ numparams $>$ {\bfseries m\+\_\+mvn\+\_\+gen}
\item 
\mbox{\Hypertarget{classada__pmmh_a1aeb930c4779048021499b7c8607ca6e}\label{classada__pmmh_a1aeb930c4779048021499b7c8607ca6e}} 
std\+::ofstream {\bfseries m\+\_\+samples\+\_\+file\+\_\+stream}
\item 
\mbox{\Hypertarget{classada__pmmh_ac54d9c263a41c8e60c6de68fe1198e98}\label{classada__pmmh_ac54d9c263a41c8e60c6de68fe1198e98}} 
std\+::ofstream {\bfseries m\+\_\+message\+\_\+stream}
\item 
\mbox{\Hypertarget{classada__pmmh_a3989efa423b4cad70295e65d5cd14f98}\label{classada__pmmh_a3989efa423b4cad70295e65d5cd14f98}} 
unsigned int {\bfseries m\+\_\+num\+\_\+mcmc\+\_\+iters}
\item 
\mbox{\Hypertarget{classada__pmmh_ab4a5a60bd0ef703ee0b7b04610a5ff56}\label{classada__pmmh_ab4a5a60bd0ef703ee0b7b04610a5ff56}} 
unsigned int {\bfseries m\+\_\+num\+\_\+extra\+\_\+threads}
\item 
\mbox{\Hypertarget{classada__pmmh_afe76d23b5c190fb82fbe4845652eb6f6}\label{classada__pmmh_afe76d23b5c190fb82fbe4845652eb6f6}} 
bool {\bfseries m\+\_\+multicore}
\item 
\mbox{\Hypertarget{classada__pmmh_a7915a4100c2f57cf097a2bad372323b3}\label{classada__pmmh_a7915a4100c2f57cf097a2bad372323b3}} 
unsigned int {\bfseries m\+\_\+iter}
\item 
\mbox{\Hypertarget{classada__pmmh_adcec6c306df8e90ae7bb9053af864922}\label{classada__pmmh_adcec6c306df8e90ae7bb9053af864922}} 
float\+\_\+t {\bfseries m\+\_\+sd}
\item 
\mbox{\Hypertarget{classada__pmmh_ad03476d51014ce496a88823d2f10f699}\label{classada__pmmh_ad03476d51014ce496a88823d2f10f699}} 
float\+\_\+t {\bfseries m\+\_\+eps}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$size\+\_\+t numparams, size\+\_\+t dimobs, size\+\_\+t numparts, typename float\+\_\+t$>$\newline
class ada\+\_\+pmmh$<$ numparams, dimobs, numparts, float\+\_\+t $>$}

\begin{DoxyAuthor}{Author}
t 
\end{DoxyAuthor}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classada__pmmh_a5ada0a36d005ab71ef337a8819268d31}\label{classada__pmmh_a5ada0a36d005ab71ef337a8819268d31}} 
\index{ada\+\_\+pmmh@{ada\+\_\+pmmh}!ada\+\_\+pmmh@{ada\+\_\+pmmh}}
\index{ada\+\_\+pmmh@{ada\+\_\+pmmh}!ada\+\_\+pmmh@{ada\+\_\+pmmh}}
\subsubsection{\texorpdfstring{ada\+\_\+pmmh()}{ada\_pmmh()}}
{\footnotesize\ttfamily template$<$size\+\_\+t numparams, size\+\_\+t dimobs, size\+\_\+t numparts, typename float\+\_\+t $>$ \\
\hyperlink{classada__pmmh}{ada\+\_\+pmmh}$<$ numparams, dimobs, numparts, float\+\_\+t $>$\+::\hyperlink{classada__pmmh}{ada\+\_\+pmmh} (\begin{DoxyParamCaption}\item[{const psv \&}]{start\+\_\+theta,  }\item[{const unsigned int \&}]{num\+\_\+mcmc\+\_\+iters,  }\item[{const std\+::string \&}]{data\+\_\+file,  }\item[{const std\+::string \&}]{samples\+\_\+file,  }\item[{const std\+::string \&}]{messages\+\_\+file,  }\item[{const bool \&}]{mc,  }\item[{const unsigned int \&}]{t0,  }\item[{const unsigned int \&}]{t1,  }\item[{const psm \&}]{C0 }\end{DoxyParamCaption})}



The constructor. 


\begin{DoxyParams}{Parameters}
{\em start\+\_\+theta} & the initial parameters, using the parameterization chosen by the user. you want to start sampling from. \\
\hline
{\em num\+\_\+mcmc\+\_\+iters} & the number of M\+C\+MC iterations you want to do. \\
\hline
{\em data\+\_\+file} & the location of the observed time series data. \\
\hline
{\em samples\+\_\+file} & the location where you want to store the samples. \\
\hline
{\em messages\+\_\+file} & the location where you want to store the messages. \\
\hline
{\em mc} & stands for multicore. true or false if you want to use extra cores. \\
\hline
{\em t0} & iteration at which you start adapting the posterior covariance matrix. \\
\hline
{\em t1} & time you stop adapting the posterior covariance matrix. \\
\hline
{\em C0} & initial covariance matrix to be used in the moving ave. calculation \\
\hline
{\em bool} & print\+\_\+to\+\_\+console T\+O\+DO \\
\hline
{\em unsigned} & int print\+\_\+every\+\_\+k T\+O\+DO \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classada__pmmh_a1d496162b69f71e22a02ce7781a34228}\label{classada__pmmh_a1d496162b69f71e22a02ce7781a34228}} 
\index{ada\+\_\+pmmh@{ada\+\_\+pmmh}!get\+\_\+ct@{get\+\_\+ct}}
\index{get\+\_\+ct@{get\+\_\+ct}!ada\+\_\+pmmh@{ada\+\_\+pmmh}}
\subsubsection{\texorpdfstring{get\+\_\+ct()}{get\_ct()}}
{\footnotesize\ttfamily template$<$size\+\_\+t numparams, size\+\_\+t dimobs, size\+\_\+t numparts, typename float\+\_\+t $>$ \\
auto \hyperlink{classada__pmmh}{ada\+\_\+pmmh}$<$ numparams, dimobs, numparts, float\+\_\+t $>$\+::get\+\_\+ct (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the current proposal distribution\textquotesingle{}s covariance matrix. 

\begin{DoxyReturn}{Returns}
the covariance matrix of q(theta\textquotesingle{} $\vert$ theta) 
\end{DoxyReturn}
\mbox{\Hypertarget{classada__pmmh_ac6b216e8b940b9da7c835c91746cfc21}\label{classada__pmmh_ac6b216e8b940b9da7c835c91746cfc21}} 
\index{ada\+\_\+pmmh@{ada\+\_\+pmmh}!log\+Like\+Evaluate@{log\+Like\+Evaluate}}
\index{log\+Like\+Evaluate@{log\+Like\+Evaluate}!ada\+\_\+pmmh@{ada\+\_\+pmmh}}
\subsubsection{\texorpdfstring{log\+Like\+Evaluate()}{logLikeEvaluate()}}
{\footnotesize\ttfamily template$<$size\+\_\+t numparams, size\+\_\+t dimobs, size\+\_\+t numparts, typename float\+\_\+t $>$ \\
virtual float\+\_\+t \hyperlink{classada__pmmh}{ada\+\_\+pmmh}$<$ numparams, dimobs, numparts, float\+\_\+t $>$\+::log\+Like\+Evaluate (\begin{DoxyParamCaption}\item[{const psv \&}]{theta,  }\item[{const std\+::vector$<$ osv $>$ \&}]{data,  }\item[{std\+::atomic\+\_\+bool \&}]{cancelled }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Approximates the log likelihood with a particle filter, using the parameterization chosen by the user. 


\begin{DoxyParams}{Parameters}
{\em theta} & the parameters with which to run the particle filter. \\
\hline
{\em data} & the observed data with which to run the particle filter. \\
\hline
{\em cancelled} & is a token you need to provide if doing multithreaded likelihood evals. This allows the function to terminate prematurely. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the evaluation of the log likelihood approximation. 
\end{DoxyReturn}
\mbox{\Hypertarget{classada__pmmh_ae01d406468838916eb10956a26d346fb}\label{classada__pmmh_ae01d406468838916eb10956a26d346fb}} 
\index{ada\+\_\+pmmh@{ada\+\_\+pmmh}!log\+Prior\+Evaluate@{log\+Prior\+Evaluate}}
\index{log\+Prior\+Evaluate@{log\+Prior\+Evaluate}!ada\+\_\+pmmh@{ada\+\_\+pmmh}}
\subsubsection{\texorpdfstring{log\+Prior\+Evaluate()}{logPriorEvaluate()}}
{\footnotesize\ttfamily template$<$size\+\_\+t numparams, size\+\_\+t dimobs, size\+\_\+t numparts, typename float\+\_\+t $>$ \\
virtual float\+\_\+t \hyperlink{classada__pmmh}{ada\+\_\+pmmh}$<$ numparams, dimobs, numparts, float\+\_\+t $>$\+::log\+Prior\+Evaluate (\begin{DoxyParamCaption}\item[{const psv \&}]{theta }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Evaluates the log of the model\textquotesingle{}s prior distribution, using the parameterization chosen by the user. 


\begin{DoxyParams}{Parameters}
{\em theta} & the transformed parameters argument. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the log of the prior density. 
\end{DoxyReturn}
\mbox{\Hypertarget{classada__pmmh_a5f0a24162f212e7f63a3d900f5d48a87}\label{classada__pmmh_a5f0a24162f212e7f63a3d900f5d48a87}} 
\index{ada\+\_\+pmmh@{ada\+\_\+pmmh}!log\+Q\+Evaluate@{log\+Q\+Evaluate}}
\index{log\+Q\+Evaluate@{log\+Q\+Evaluate}!ada\+\_\+pmmh@{ada\+\_\+pmmh}}
\subsubsection{\texorpdfstring{log\+Q\+Evaluate()}{logQEvaluate()}}
{\footnotesize\ttfamily template$<$size\+\_\+t numparams, size\+\_\+t dimobs, size\+\_\+t numparts, typename float\+\_\+t $>$ \\
virtual float\+\_\+t \hyperlink{classada__pmmh}{ada\+\_\+pmmh}$<$ numparams, dimobs, numparts, float\+\_\+t $>$\+::log\+Q\+Evaluate (\begin{DoxyParamCaption}\item[{const psv \&}]{old\+\_\+params,  }\item[{const psv \&}]{new\+\_\+params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



Evaluates the logarithm of the proposal density, using the parameterization chosen by the user. 


\begin{DoxyParams}{Parameters}
{\em old\+\_\+params} & the old parameters. \\
\hline
{\em new\+\_\+params} & the new parameters. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the log of the proposal density. 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/\hyperlink{ada__pmmh_8h}{ada\+\_\+pmmh.\+h}\end{DoxyCompactItemize}
